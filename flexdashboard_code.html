<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Tvisha R. Devavarapu" />

<meta name="date" content="2022-10-31" />

<title>Flexdashboard Code</title>

<script src="site_libs/header-attrs-2.16/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/paper.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-2.5.1/plotly-latest.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="about.html">About Me</a>
</li>
<li>
  <a href="mailto:&lt;td2749@cumc.columbia.edu&gt;">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://www.linkedin.com/in/tvisha-devavarapu/">
    <span class="fa fa-brands fa-linkedin"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/TvishaD/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Flexdashboard Code</h1>
<h4 class="author">Tvisha R. Devavarapu</h4>
<h4 class="date">2022-10-31</h4>

</div>


<div id="set-up" class="section level1">
<h1>Set-up</h1>
<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──
## ✔ ggplot2 3.3.6      ✔ purrr   0.3.4 
## ✔ tibble  3.1.8      ✔ dplyr   1.0.10
## ✔ tidyr   1.2.0      ✔ stringr 1.4.1 
## ✔ readr   2.1.2      ✔ forcats 0.5.2 
## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>library(plotly)</code></pre>
<pre><code>## 
## Attaching package: &#39;plotly&#39;
## 
## The following object is masked from &#39;package:ggplot2&#39;:
## 
##     last_plot
## 
## The following object is masked from &#39;package:stats&#39;:
## 
##     filter
## 
## The following object is masked from &#39;package:graphics&#39;:
## 
##     layout</code></pre>
<pre class="r"><code>knitr::opts_chunk$set(
  fig.width = 10,
  fig.asp = .6,
  out.width = &quot;90%&quot;
)</code></pre>
<pre class="r"><code>library(p8105.datasets)
data(&quot;instacart&quot;)

instacart_df =
  instacart %&gt;%
    janitor::clean_names()</code></pre>
<p><strong>1. Most ordered fresh vegetables</strong></p>
<pre class="r"><code>instacart_df %&gt;% 
  select(product_name, aisle) %&gt;% 
  filter(aisle == &quot;fresh vegetables&quot;) %&gt;% 
  group_by(product_name) %&gt;% 
  summarise(counts = n()) %&gt;% 
  filter(counts &gt; 1000) %&gt;% 
  mutate(product_name = fct_reorder(product_name, counts)) %&gt;% 
  plot_ly(x = ~product_name, y = ~counts, type = &quot;bar&quot;) %&gt;% 
    layout(title = &quot;&lt;b&gt;Most frequently ordered products (counts &gt; 1000) in the &#39;Fresh Vegetables&#39; aisle&lt;/b&gt;&quot;,
           yaxis = list(title = &quot;&lt;b&gt;Counts (# of orders)&lt;/b&gt;&quot;),
           xaxis = list(title = &quot;&lt;b&gt;Product&lt;/b&gt;&quot;, tickangle = 45))</code></pre>
<div id="htmlwidget-f66b60cf2f315d62cde6" style="width:90%;height:576px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-f66b60cf2f315d62cde6">{"x":{"visdat":{"64ae835e9dd":["function () ","plotlyVisDat"]},"cur_data":"64ae835e9dd","attrs":{"64ae835e9dd":{"x":{},"y":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"<b>Most frequently ordered products (counts > 1000) in the 'Fresh Vegetables' aisle<\/b>","yaxis":{"domain":[0,1],"automargin":true,"title":"<b>Counts (# of orders)<\/b>"},"xaxis":{"domain":[0,1],"automargin":true,"title":"<b>Product<\/b>","tickangle":45,"type":"category","categoryorder":"array","categoryarray":["Cherubs Heavenly Salad Tomatoes","Organic Red Radish, Bunch","Organic Celery Hearts","Brussels Sprouts","Organic Romaine Lettuce","Green Beans","Yellow Bell Pepper","Organic Russet Potato","Organic Roma Tomato","Fresh Ginger Root","Organic Baby Broccoli","Russet Potato","Green Onions","Red Onion","Hass Avocado","Organic Broccoli","Organic Carrot Bunch","Organic Lacinato (Dinosaur) Kale","Orange Bell Pepper","Jalapeno Peppers","Garlic","Roma Tomato","Organic Ginger Root","Red Vine Tomato","Organic Red Bell Pepper","Cucumber Kirby","Carrots","Green Bell Pepper","Organic Tomato Cluster","Organic Garnet Sweet Potato (Yam)","Organic Small Bunch Celery","Michigan Organic Kale","Fresh Cauliflower","Red Peppers","Broccoli Crown","Yellow Onions","Organic Red Onion","Asparagus","Organic Garlic","Organic Yellow Onion","Organic Zucchini","Organic Cucumber"]},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["Asparagus","Broccoli Crown","Brussels Sprouts","Carrots","Cherubs Heavenly Salad Tomatoes","Cucumber Kirby","Fresh Cauliflower","Fresh Ginger Root","Garlic","Green Beans","Green Bell Pepper","Green Onions","Hass Avocado","Jalapeno Peppers","Michigan Organic Kale","Orange Bell Pepper","Organic Baby Broccoli","Organic Broccoli","Organic Carrot Bunch","Organic Celery Hearts","Organic Cucumber","Organic Garlic","Organic Garnet Sweet Potato (Yam)","Organic Ginger Root","Organic Lacinato (Dinosaur) Kale","Organic Red Bell Pepper","Organic Red Onion","Organic Red Radish, Bunch","Organic Roma Tomato","Organic Romaine Lettuce","Organic Russet Potato","Organic Small Bunch Celery","Organic Tomato Cluster","Organic Yellow Onion","Organic Zucchini","Red Onion","Red Peppers","Red Vine Tomato","Roma Tomato","Russet Potato","Yellow Bell Pepper","Yellow Onions"],"y":[3868,2932,1149,2497,1024,2413,2651,1284,1920,1160,2521,1445,1633,1899,2627,1864,1351,1653,1742,1062,4613,4158,2568,2007,1761,2393,3818,1041,1221,1154,1174,2623,2538,4290,4589,1468,2905,2234,1953,1418,1166,3762],"type":"bar","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p><em>Customers on instacart seem to have a preference towards organic
produce within the ‘Fresh Vegetables’ aisle.</em></p>
<p><strong>2. Time-wise trend in overall produce/snacks/personal-care
orders</strong></p>
<pre class="r"><code>instacart_df %&gt;% 
  select(order_hour_of_day, department) %&gt;% 
  mutate(order_hour_of_day = factor(order_hour_of_day)) %&gt;% 
  filter(department %in% c(&quot;produce&quot;, &quot;snacks&quot;, &quot;personal care&quot;)) %&gt;% 
  group_by(order_hour_of_day, department) %&gt;% 
  summarise(counts = n()) %&gt;% 
  plot_ly(x = ~order_hour_of_day, y = ~counts,
          type = &quot;scatter&quot;, mode = &quot;markers&quot;,
          color = ~department, size = ~counts,
          text = ~paste(&quot;Time: &quot;, order_hour_of_day, &quot;/24&quot;, &#39;&lt;br&gt;Counts:&#39;, counts)) %&gt;% 
    layout(title = &quot;&lt;b&gt;Time-wise trends in overall produce/snacks/personal-care orders&lt;/b&gt;&quot;,
           yaxis = list(title = &quot;&lt;b&gt;Counts (# of orders)&lt;/b&gt;&quot;),
           xaxis = list(title = &quot;&lt;b&gt;Time of Day&lt;/b&gt;&quot;,
                        tickvals = c(0, 3, 6, 9, 12, 15, 18, 21, 23),
                        ticktext = c(&quot;12 AM&quot;, &quot;3 AM&quot;, &quot;6 AM&quot;, &quot;9 AM&quot;, &quot;12 PM&quot;,
                                     &quot;3 PM&quot;, &quot;6 PM&quot;, &quot;9 PM&quot;, &quot;11 PM&quot;),
                        tickangle = 45))</code></pre>
<pre><code>## `summarise()` has grouped output by &#39;order_hour_of_day&#39;. You can override using
## the `.groups` argument.</code></pre>
<pre><code>## Warning: `line.width` does not currently support multiple values.

## Warning: `line.width` does not currently support multiple values.

## Warning: `line.width` does not currently support multiple values.</code></pre>
<div id="htmlwidget-03839540e1c67ff14fb2" style="width:90%;height:576px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-03839540e1c67ff14fb2">{"x":{"visdat":{"64ae418fb633":["function () ","plotlyVisDat"]},"cur_data":"64ae418fb633","attrs":{"64ae418fb633":{"x":{},"y":{},"mode":"markers","text":{},"color":{},"size":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"<b>Time-wise trends in overall produce/snacks/personal-care orders<\/b>","yaxis":{"domain":[0,1],"automargin":true,"title":"<b>Counts (# of orders)<\/b>"},"xaxis":{"domain":[0,1],"automargin":true,"title":"<b>Time of Day<\/b>","tickvals":[0,3,6,9,12,15,18,21,23],"ticktext":["12 AM","3 AM","6 AM","9 AM","12 PM","3 PM","6 PM","9 PM","11 PM"],"tickangle":45},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],"y":[157,101,60,37,38,95,205,607,1027,1472,1644,1764,1643,1696,1801,1738,1660,1612,1287,1048,679,524,424,251],"mode":"markers","text":["Time:  0 /24 <br>Counts: 157","Time:  1 /24 <br>Counts: 101","Time:  2 /24 <br>Counts: 60","Time:  3 /24 <br>Counts: 37","Time:  4 /24 <br>Counts: 38","Time:  5 /24 <br>Counts: 95","Time:  6 /24 <br>Counts: 205","Time:  7 /24 <br>Counts: 607","Time:  8 /24 <br>Counts: 1027","Time:  9 /24 <br>Counts: 1472","Time:  10 /24 <br>Counts: 1644","Time:  11 /24 <br>Counts: 1764","Time:  12 /24 <br>Counts: 1643","Time:  13 /24 <br>Counts: 1696","Time:  14 /24 <br>Counts: 1801","Time:  15 /24 <br>Counts: 1738","Time:  16 /24 <br>Counts: 1660","Time:  17 /24 <br>Counts: 1612","Time:  18 /24 <br>Counts: 1287","Time:  19 /24 <br>Counts: 1048","Time:  20 /24 <br>Counts: 679","Time:  21 /24 <br>Counts: 524","Time:  22 /24 <br>Counts: 424","Time:  23 /24 <br>Counts: 251"],"type":"scatter","name":"personal care","marker":{"color":"rgba(102,194,165,1)","size":[10.3054816993834,10.1629235730045,10.0585506590485,10,10.0025456808282,10.1476494880353,10.4276743791367,11.4510380720711,12.5202240199129,13.6530519884596,14.0909090909091,14.3963907902925,14.0883634100809,14.2232844939752,14.4905809809357,14.3302030887594,14.1316399841602,14.0094473044069,13.1821010352435,12.573683317305,11.6343270917011,11.2397465633309,10.9851784805114,10.5447756972337],"sizemode":"area","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)","size":[10.3054816993834,10.1629235730045,10.0585506590485,10,10.0025456808282,10.1476494880353,10.4276743791367,11.4510380720711,12.5202240199129,13.6530519884596,14.0909090909091,14.3963907902925,14.0883634100809,14.2232844939752,14.4905809809357,14.3302030887594,14.1316399841602,14.0094473044069,13.1821010352435,12.573683317305,11.6343270917011,11.2397465633309,10.9851784805114,10.5447756972337]},"error_y":{"color":"rgba(102,194,165,1)","width":[]},"error_x":{"color":"rgba(102,194,165,1)","width":[]},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],"y":[2782,1697,985,682,622,1057,3413,11262,20436,27891,32430,33335,33503,34361,35391,34824,32200,27582,21247,16522,11879,10882,8698,5406],"mode":"markers","text":["Time:  0 /24 <br>Counts: 2782","Time:  1 /24 <br>Counts: 1697","Time:  2 /24 <br>Counts: 985","Time:  3 /24 <br>Counts: 682","Time:  4 /24 <br>Counts: 622","Time:  5 /24 <br>Counts: 1057","Time:  6 /24 <br>Counts: 3413","Time:  7 /24 <br>Counts: 11262","Time:  8 /24 <br>Counts: 20436","Time:  9 /24 <br>Counts: 27891","Time:  10 /24 <br>Counts: 32430","Time:  11 /24 <br>Counts: 33335","Time:  12 /24 <br>Counts: 33503","Time:  13 /24 <br>Counts: 34361","Time:  14 /24 <br>Counts: 35391","Time:  15 /24 <br>Counts: 34824","Time:  16 /24 <br>Counts: 32200","Time:  17 /24 <br>Counts: 27582","Time:  18 /24 <br>Counts: 21247","Time:  19 /24 <br>Counts: 16522","Time:  20 /24 <br>Counts: 11879","Time:  21 /24 <br>Counts: 10882","Time:  22 /24 <br>Counts: 8698","Time:  23 /24 <br>Counts: 5406"],"type":"scatter","name":"produce","marker":{"color":"rgba(252,141,98,1)","size":[16.9878938733948,14.2258301748034,12.4133054251287,11.6419641341857,11.489223284494,12.5965944447587,18.5942184759857,38.575267296487,61.9293432143463,80.9073937885388,92.4622390677151,94.7660802172314,95.1937545963682,97.3779487469593,100,98.5565989704135,91.8767324772303,80.1207784126266,63.9938903660123,51.9655484527918,40.1459523674832,37.6079085817729,32.0481416529954,23.667760366578],"sizemode":"area","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)","size":[16.9878938733948,14.2258301748034,12.4133054251287,11.6419641341857,11.489223284494,12.5965944447587,18.5942184759857,38.575267296487,61.9293432143463,80.9073937885388,92.4622390677151,94.7660802172314,95.1937545963682,97.3779487469593,100,98.5565989704135,91.8767324772303,80.1207784126266,63.9938903660123,51.9655484527918,40.1459523674832,37.6079085817729,32.0481416529954,23.667760366578]},"error_y":{"color":"rgba(252,141,98,1)","width":[]},"error_x":{"color":"rgba(252,141,98,1)","width":[]},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],"y":[759,455,244,203,194,289,921,2922,5714,8270,9912,10242,9600,9641,10482,9909,9546,8423,6460,4959,3397,2782,2216,1322],"mode":"markers","text":["Time:  0 /24 <br>Counts: 759","Time:  1 /24 <br>Counts: 455","Time:  2 /24 <br>Counts: 244","Time:  3 /24 <br>Counts: 203","Time:  4 /24 <br>Counts: 194","Time:  5 /24 <br>Counts: 289","Time:  6 /24 <br>Counts: 921","Time:  7 /24 <br>Counts: 2922","Time:  8 /24 <br>Counts: 5714","Time:  9 /24 <br>Counts: 8270","Time:  10 /24 <br>Counts: 9912","Time:  11 /24 <br>Counts: 10242","Time:  12 /24 <br>Counts: 9600","Time:  13 /24 <br>Counts: 9641","Time:  14 /24 <br>Counts: 10482","Time:  15 /24 <br>Counts: 9909","Time:  16 /24 <br>Counts: 9546","Time:  17 /24 <br>Counts: 8423","Time:  18 /24 <br>Counts: 6460","Time:  19 /24 <br>Counts: 4959","Time:  20 /24 <br>Counts: 3397","Time:  21 /24 <br>Counts: 2782","Time:  22 /24 <br>Counts: 2216","Time:  23 /24 <br>Counts: 1322"],"type":"scatter","name":"snacks","marker":{"color":"rgba(141,160,203,1)","size":[11.8379815579567,11.0640945861854,10.5269559314363,10.4225830174803,10.3996718900266,10.6415115687051,12.2503818521242,17.3442891893421,24.451830061662,30.958590258528,35.1385981784239,35.9786728517282,34.3443457600272,34.4487186739831,36.589636250495,35.1309611359394,34.2068789953046,31.3480794252418,26.3509079594954,22.529841036375,18.5534875827346,16.9878938733948,15.5470385246365,13.2711998642304],"sizemode":"area","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)","size":[11.8379815579567,11.0640945861854,10.5269559314363,10.4225830174803,10.3996718900266,10.6415115687051,12.2503818521242,17.3442891893421,24.451830061662,30.958590258528,35.1385981784239,35.9786728517282,34.3443457600272,34.4487186739831,36.589636250495,35.1309611359394,34.2068789953046,31.3480794252418,26.3509079594954,22.529841036375,18.5534875827346,16.9878938733948,15.5470385246365,13.2711998642304]},"error_y":{"color":"rgba(141,160,203,1)","width":[]},"error_x":{"color":"rgba(141,160,203,1)","width":[]},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p><em>Produce is more frequently ordered than snacks and personal care.
10 AM - 2 PM seems to be time when most of the produce orders are made.
For snacks, most products were ordered 11 AM and 2 PM but dipped a
little in the time in between. For personal care products, just like
snacks, the most likely time to order was 11 AM or 2 PM.</em></p>
<p><strong>3. Top 5 items in Top 10 Aisles</strong></p>
<pre class="r"><code>aisle_counts = 
  instacart_df %&gt;% 
    group_by(aisle) %&gt;% 
    count(aisle) %&gt;%
    arrange(desc(n))

top_10_aisles = aisle_counts$aisle[1:10]

instacart_df %&gt;% 
  filter(aisle %in% top_10_aisles) %&gt;% 
  group_by(aisle) %&gt;% 
  count(product_name) %&gt;% 
  mutate(rank = min_rank(desc(n))) %&gt;% 
  filter(rank &lt; 6) %&gt;% 
  mutate(rank = factor(rank)) %&gt;% 
  arrange(aisle, rank) %&gt;% 
  plot_ly(x = ~aisle, y = ~n, type = &quot;bar&quot;, color = ~rank,
          text = ~paste(&quot;Name: &quot;, product_name, &#39;&lt;br&gt;Counts:&#39;, n)) %&gt;% 
    layout(title = &quot;&lt;b&gt;Top 5 items in Top 10 Aisles&lt;/b&gt;&quot;,
           yaxis = list(title = &quot;&lt;b&gt;Counts (# of orders)&lt;/b&gt;&quot;),
           xaxis = list(title = &quot;&lt;b&gt;Aisle&lt;/b&gt;&quot;, tickangle = 45),
           legend = list(title = list(text = &quot;&lt;b&gt;Rank&lt;/b&gt;&quot;)))</code></pre>
<div id="htmlwidget-09491cdb24b90e4f8e28" style="width:90%;height:576px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-09491cdb24b90e4f8e28">{"x":{"visdat":{"64ae4ed3c53e":["function () ","plotlyVisDat"]},"cur_data":"64ae4ed3c53e","attrs":{"64ae4ed3c53e":{"x":{},"y":{},"text":{},"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"<b>Top 5 items in Top 10 Aisles<\/b>","yaxis":{"domain":[0,1],"automargin":true,"title":"<b>Counts (# of orders)<\/b>"},"xaxis":{"domain":[0,1],"automargin":true,"title":"<b>Aisle<\/b>","tickangle":45,"type":"category","categoryorder":"array","categoryarray":["bread","chips pretzels","fresh fruits","fresh vegetables","milk","packaged cheese","packaged vegetables fruits","soy lactosefree","water seltzer sparkling water","yogurt"]},"legend":{"title":{"text":"<b>Rank<\/b>"}},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["bread","chips pretzels","fresh fruits","fresh vegetables","milk","packaged cheese","packaged vegetables fruits","soy lactosefree","water seltzer sparkling water","yogurt"],"y":[2298,991,18726,4613,4908,1993,9784,2176,3359,1046],"text":["Name:  100% Whole Wheat Bread <br>Counts: 2298","Name:  Lightly Salted Baked Snap Pea Crisps <br>Counts: 991","Name:  Banana <br>Counts: 18726","Name:  Organic Cucumber <br>Counts: 4613","Name:  Organic Whole Milk <br>Counts: 4908","Name:  Organic Whole String Cheese <br>Counts: 1993","Name:  Organic Baby Spinach <br>Counts: 9784","Name:  Organic Unsweetened Almond Milk <br>Counts: 2176","Name:  Sparkling Water Grapefruit <br>Counts: 3359","Name:  Total 0% Greek Yogurt <br>Counts: 1046"],"type":"bar","name":"1","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["bread","chips pretzels","fresh fruits","fresh vegetables","milk","packaged cheese","packaged vegetables fruits","soy lactosefree","water seltzer sparkling water","yogurt"],"y":[938,753,15480,4589,1540,1694,5546,2169,2225,993],"text":["Name:  Organic Bread with 21 Whole Grains <br>Counts: 938","Name:  Pretzel Crisps Original Deli Style Pretzel Crackers <br>Counts: 753","Name:  Bag of Organic Bananas <br>Counts: 15480","Name:  Organic Zucchini <br>Counts: 4589","Name:  2% Reduced Fat Milk <br>Counts: 1540","Name:  Grated Parmesan <br>Counts: 1694","Name:  Organic Raspberries <br>Counts: 5546","Name:  Unsweetened Almondmilk <br>Counts: 2169","Name:  Spring Water <br>Counts: 2225","Name:  Total 0% Nonfat Greek Yogurt <br>Counts: 993"],"type":"bar","name":"2","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["bread","chips pretzels","fresh fruits","fresh vegetables","milk","packaged cheese","packaged vegetables fruits","soy lactosefree","water seltzer sparkling water","yogurt"],"y":[738,707,10894,4290,1535,1449,4966,1465,1966,973],"text":["Name:  Sourdough Bread <br>Counts: 738","Name:  Sea Salt Pita Chips <br>Counts: 707","Name:  Organic Strawberries <br>Counts: 10894","Name:  Organic Yellow Onion <br>Counts: 4290","Name:  Organic Reduced Fat 2% Milk <br>Counts: 1535","Name:  Feta Cheese Crumbles <br>Counts: 1449","Name:  Organic Blueberries <br>Counts: 4966","Name:  Unsweetened Original Almond Breeze Almond Milk <br>Counts: 1465","Name:  Lime Sparkling Water <br>Counts: 1966","Name:  Total 2% with Strawberry Lowfat Greek Strained Yogurt <br>Counts: 973"],"type":"bar","name":"3","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["bread","chips pretzels","fresh fruits","fresh vegetables","milk","packaged cheese","packaged vegetables fruits","soy lactosefree","water seltzer sparkling water","yogurt"],"y":[698,637,8135,4158,1335,1342,4059,1277,1803,951],"text":["Name:  Ezekiel 4:9 Bread Organic Sprouted Whole Grain <br>Counts: 698","Name:  Organic Tortilla Chips <br>Counts: 637","Name:  Large Lemon <br>Counts: 8135","Name:  Organic Garlic <br>Counts: 4158","Name:  Whole Milk <br>Counts: 1335","Name:  Organic Sticks Low Moisture Part Skim Mozzarella String Cheese <br>Counts: 1342","Name:  Seedless Red Grapes <br>Counts: 4059","Name:  Vanilla Almond Breeze Almond Milk <br>Counts: 1277","Name:  Sparkling Natural Mineral Water <br>Counts: 1803","Name:  Total Greek Strained Yogurt <br>Counts: 951"],"type":"bar","name":"4","marker":{"color":"rgba(231,138,195,1)","line":{"color":"rgba(231,138,195,1)"}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["bread","chips pretzels","fresh fruits","fresh vegetables","milk","packaged cheese","packaged vegetables fruits","soy lactosefree","water seltzer sparkling water","yogurt"],"y":[546,597,7409,3868,1220,1324,3823,1248,1423,810],"text":["Name:  Organic 21 Grain Thin Sliced Bread <br>Counts: 546","Name:  Sea Salt & Vinegar Potato Chips <br>Counts: 597","Name:  Organic Avocado <br>Counts: 7409","Name:  Asparagus <br>Counts: 3868","Name:  Fat Free Milk <br>Counts: 1220","Name:  Shredded Parmesan <br>Counts: 1324","Name:  Organic Grape Tomatoes <br>Counts: 3823","Name:  Unsweetened Vanilla Almond Milk <br>Counts: 1248","Name:  Sparkling Lemon Water <br>Counts: 1423","Name:  Total 2% All Natural Greek Strained Yogurt with Honey <br>Counts: 810"],"type":"bar","name":"5","marker":{"color":"rgba(166,216,84,1)","line":{"color":"rgba(166,216,84,1)"}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p><em>Note: Please hover over the individual bars to access the product
names!</em></p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
